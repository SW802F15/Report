\section{Application}
%Current State:
An Android application was developed in this project to address the challenges stated in \Cref{chap:intro}. The first challenge was expressed as the following question:

%Q1: 
\begin{center}
\textit{How can we provide music with an appropriate tempo, compared to the current pace, to the runner through the use of a smartphone?}
\end{center}

It was found that it is possible to create an application consisting of several modules working together to achieve the desired result, i.e. an application that plays back music that matches the user's pace:

\begin{itemize}
\item \textbf{Music Player}: This module is the core of the application, responsible for playing the desired music. Using a GUI it is possible to navigate through a playlist manually, and with a combination of the build-in dynamic queue and the step counter module, it can automatically play back songs that match the user's running (or walking) pace.
\item \textbf{Song Scanner}: The song scanner is responsible for locating music on the device and maintaining a music library.
\item \textbf{Step Counter}: This module uses the device's sensors to calculate the user's steps per minute.
\end{itemize}

The user is expected to use the application while running, and in addition to the functionality, it would be an advantage to be able to control the application while using for its intended purpose. That requirement led to the second question:

\begin{center}
\textit{How can a smartphone application be operated without disrupting the runner's form and/or concentration?}
\end{center}

Se


\subsection{Future Work}
Things to do in the future.


The application can provide music matching a runners pace. This is achieved by registering steps taken and querying a local music library on the device. This solves our problem as we know the tempo of the song in the library.

While the application can play music and has a good (within 10 percent of target) step detections it has shortcomings: 

The GUI is not fully developed, it is possible to break the positioning of song in the cover flow. Unavailable information such tempo (BPM) makes songs unusable for matching with pace. The selecting of music does not scale well with the size of the music library. A small music library (6 to 10) makes it very hard to match tempo with pace. 

improvements to the application:
\begin{itemize}
\item Reading tempo from file, currently it relies solely on a online API to retrieve tempo.
\subitem Alternatively analyse music file in order to discover tempo.
\item Altering tempo live, could be helpful to small libraries.
\item Manual edit of song metadata. 
\end{itemize}


%Q2:

This is solved by adding a interface, that only relies on touch to be operated. This allows a running people to focus sight on the path ahead instead of a phone. 


% interval programs
% online album cover
% integration with music streaming service
% fix cover flow
% head phone in / out
% fixed play


%Future Works:
% offline analysis
	% minor since we are customers. Why?
% adjust music speed
% settings should be expanded
	% editing of songs (IDx-tags (bpm etc.))
	% what more?

% true NGUI
% tactile feedback

\Ivan{Vedr. GUI: Vi kan diskutere hvor godt det er i forhold til brugbar/ikke brugbar information og feedback. Specielt i forhold til det ikke grafiske ui kan vi overveje en mere klar form for feedback ved f.eks. nummerskift (vibration?).}
\Ivan{Hvorfor er der settings p√• main screen}